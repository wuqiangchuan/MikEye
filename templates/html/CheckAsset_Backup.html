<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!--  <meta name="viewport" content="width=device-width, initial-scale=1">-->
    <title>资产管理</title>
    <!-- Bootstrap -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.css" type="text/css">
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
   <!--  <script src="http://cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    -->
    <style type="text/css">
        @media (min-width: 768px){
            #left_body{
                width: 250px;
                margin-top: 51px;
                position: absolute;
                z-index: 1;
            }
            .mysearch{ margin:10px 0px }
            .page_main{
                margin-left: 260px;
            }

        }
        th{
            text-align: center;
        }
        .margin_left_span{
            margin-left: 46px;
        }
    </style>
<body>
<nav class="navbar navbar-default navbar-static-top">
        <!-- 导航开始-->
    <div class="navbar-header">
    <button type="button" class="navbar-toggle collapsed  navbar-btn " data-toggle="collapse" data-target="#left_body">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
         <!--  <img  src="../img/ab.jpg" width="100px" height="100px" class=" img-responsive img-circle"> -->
        <a  href="#" class="navbar-brand">
                MikEye
        </a>
    </div>
    <ul class="nav navbar-nav navbar-right">
        <h4><li>
            <a href="#" onclick="myfunc()" style="margin-right: 50px;">
                <span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>
                <span  class="glyphicon glyphicon-off">注销</span>
            </a>
        </li></h4>
    </ul>
 <!--       导航结束     -->
<!--        左边开始     -->
    <div class="navbar-default collapse navbar-collapse"  id="left_body">
        <ul class="nav">
            <li>
                <!-- 搜索框 -->
                <div class="input-group mysearch">
                    <input class="form-control" placeholder="search">
                    <span class="input-group-btn">
                         <button type="button" class="btn btn-info" onclick="MySearch()">
                             <span class="glyphicon glyphicon-search"> </span>
                     搜索</button>
                    </span>
                </div>
            </li>
            <!-- 导航开始 -->
            <li>
                <a href="#sub1" data-toggle="collapse"><span class="glyphicon glyphicon-user"> WEB管理员</span><span class="glyphicon glyphicon-chevron-right pull-right"></span></a>
                <ul id="sub1" class="nav collapse ">
                    <li><a href="#" class="list-group-item-info"  data-toggle="modal" data-target="#myModal" onclick="ChangePWD()"><span class="margin_left_span">更改密码</span></a></li> <!-- xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx -->
                  <!--   <li><a href="#" class="list-group-item-info"  data-toggle="modal" data-target="#myModa2" onclick="SetEmail()"><span class="margin_left_span">邮箱设定</span></a></li>          -->
                </ul>
            </li>
            <li>
                <a href="#sub2" data-toggle="collapse"><span class="glyphicon glyphicon-text-width"> 资产统计</span><span class="glyphicon glyphicon-chevron-right pull-right"></span></a>
                <ul id="sub2"  class="nav collapse in">
                    <li><a href="/WebAdmin/CheckAsset/" class="list-group-item-info"><span class="margin_left_span">查看资产</span></a></li>
                    <li><a href="/WebAdmin/AddAsset/" class="list-group-item-info"><span class="margin_left_span">添加资产</span></a></li>
                    <li><a href="/WebAdmin/AddAssetGroup/" class="list-group-item-info"><span class="margin_left_span">添加资产组</span></a></li>
                </ul>
            </li>
            <li>
                <a href="#sub3" data-toggle="collapse"><span class="glyphicon glyphicon-eye-open"> 监控类</span><span class="glyphicon glyphicon-chevron-right pull-right"></span></a>
                <ul id="sub3" class="nav collapse ">
                    <li><a href="#" class="list-group-item-info"><span class="margin_left_span">CPU监控</span></a></li>
                    <li><a href="#" class="list-group-item-info"><span class="margin_left_span">网卡流量</span></a></li>
                    <li><a href="#" class="list-group-item-info"><span class="margin_left_span">内存监控</span></a></li>
                </ul>
            </li>
            <li>
                <a href="#sub4" data-toggle="collapse"><span class="glyphicon glyphicon-queen"> 用户管理</span><span class="glyphicon glyphicon-chevron-right pull-right"></span></a>
                <ul id="sub4" class="nav collapse ">
                    <li><a href="#" class="list-group-item-info"> <span class="margin_left_span">用户组</span></a></li>
                    <li><a href="#" class="list-group-item-info"><span class="margin_left_span">用户</span></a></li>
                    <li><a href="#" class="list-group-item-info"><span class="margin_left_span">用户邮箱</span></a></li>
                </ul>
            </li>
        </ul>
    </div>
</nav>
<div class="page_main">
        <div class="container">
        	<div class="row">
        	 <div class="col-md-11">
        	 <!-- 资产统计 -->
        	 <div><h4><span style="margin-left:30px;">资产统计</span></h4></div>
        		<hr/>
        	 </div>
        	 
            <div class="col-md-11">
					  <!-- Nav tabs -->
					  <ul class="nav nav-tabs" role="tablist">
					    <li role="presentation" class="active"><a href="#CheckAsset" aria-controls="CheckAsset" role="tab" data-toggle="tab">查看资产</a></li>
					    <li role="presentation"><a href="#AddAsset" aria-controls="AddAsset" role="tab" data-toggle="tab">添加资产</a></li>
					    <li role="presentation"><a href="#AddAssetGroup" aria-controls="AddAssetGroup" role="tab" data-toggle="tab">添加资产组</a></li>
					  </ul>
					  <!-- Tab panes -->
					  <div class="tab-content">
					 <div role="tabpanel" class="tab-pane active" id="CheckAsset">
                             </br>
							{% for I in HwiObj %}
					      <div class="panel-group"  id="{{I.HardInfo.Host}}" role="tablist" aria-multiselectable="true">
								  <div class="panel panel-default">
								    <div class="panel-heading" role="tab" id="{{I.HostName}}">
								      <h4 class="panel-title">
								        <a role="button" data-toggle="collapse" data-parent="#{{I.HardInfo.Host}}" href="#{{I.id}}"  aria-expanded="true" aria-controls="{{I.id}}" >
								          <!--  <span style="margin-left:10px;">id:<span style="margin-right:200px;"> 主机名:  </span>         -->
								        	<div class="row">
								        			<div class="col-md-4">id: {{I.id}}</div>
								        			<div class="col-md-4">IP地址: {{I.HostName}}</div>
								        			<div class="col-md-4">主机名: {{I.HardInfo.Host}}</div>
								        	</div>
								        </a>
								      </h4>
								    </div>
								    <div id="{{I.id}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="{{I.HostName}}">
								      <div class="panel-body">
								        
										   <table class="table table-bordered">
							       		<thead>
							       		<tr class="success">
							       				<th >HostName</th>
										       	<th>System</th>
										       	<th>LocalIp</th>
										       	<th>PubIp</th>
										       	<th>UpdateTime</th>					 
										     </tr>
										     </thead>
										     <tbody>
										     <tr style="text-align: center">
										     
										     		<td>{{I.HardInfo.Host}}</td>
										     		<td>{{I.HardInfo.System}}</td>
										     		<td>{{I.HardInfo.LocalIp}}</td>	
										     		<td>{{I.HardInfo.PubIp}}</td>	
										     		<td>{{I.HardInfo.UpdateTime | date:"Y-m-d H:i:s"}}</td>		
										   </tr>
										   <tr>
										   			<td></td>
										   			<td></td>
										   			<td></td>
										   			<td></td>
										   			<td></td>
										   </tr>
										    <tr style="text-align: center;font-weight:bold" class="success">
										   			<td>Cpu</td>
										   			<td>Arch</td> 
										   			<td>Cpulogical</td>
										   			<td>Cpupysic</td>
										   			<td>Mac</td>
										   </tr>					        
							        <!-- 这里其实是th的，因为要留一个空行，所以采用了tr / td -->
										     <tr style="text-align: center">
										     		<td>{{I.HardInfo.Cpu}}</td>	
										     		<td>{{I.HardInfo.Arch}}</td>	
										     		<td>{{I.HardInfo.Cpulogical}}</td>	
										     		<td>{{I.HardInfo.Cpupysic}}</td>	
										 				<td>{{I.HardInfo.Mac}}</td>	
										     			    
										     </tr>
										     </tbody>
							       	</table>
				 <!-- 资产统计 -->
		
		<!-- 磁盘的展示 -->		 			                                      
					    <div class="panel-heading"  id="headingTwo">
					      <h4 class="panel-title">
					        <a >
					          			磁盘使用信息
					        </a>
					      </h4>
					    </div>
					    <div id="collapseTwo" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingTwo">
					      <div class="panel-body">
					      	<div class="row">
					      				<div class="col-md-2">文件系统</div>
					      				<div class="col-md-2">挂载点</div>
					      				<div class="col-md-2">总量</div>
					      				<div class="col-md-2">已使用量</div>
					      				<div class="col-md-2">剩余量</div>
					      				<div class="com-md-2">更新时间</div>
					      	</div>
					      	<div class="row">
					      		<div class="com-md-12">&nbsp;</div>
					      	</div>
					      {% for Disk in DiskObj %}
					          {% ifequal I.id Disk.Host_id %}
					      	<div class="row">
					      				<div class="col-md-2">{{Disk.FileSystem}}</div>
					      				<div class="col-md-2">{{Disk.MountedOn}}</div>
					      				<div class="col-md-2">{{Disk.Total}}</div>
					      				<div class="col-md-2">{{Disk.Used}}</div>
					      				<div class="col-md-2">{{Disk.Avail}}</div>
					      				<div class="col-md-2">{{Disk.UpdateTime | date:"Y-m-d H:i:s"}}</div>
					      	</div>
					      	</br>
					      	<ul class="media-list">
									  <li class="media">
									    <div class="media-left" style="width: 30px;">
									      <a href="#">
									       			 Used%: &nbsp;
									      </a>
									    </div>
									    <div class="media-body">
									       <div class="progress">
												  <div class="progress-bar progress-bar-success active progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:  {{Disk.UseP}}">
												    {{Disk.UseP}}
												  </div>
												  </div>
									    </div>
									  </li>
									</ul>
									<div class="row">
					      		<div class="com-md-12">&nbsp;</div>
					      	</div>
					      	            {% else %}
					      	            
					      	            {% endifequal %}
					      	{% endfor %}
					      	
					      </div>
					    </div>
					  
					<!-- 磁盘的展示 -->	
         
                                 
								      </div>
								    </div>
								  </div>
								</div>
								{% endfor %}     
					      
					     </div>
					      
					      
					      <!-- 添加资产信息。 -->
					    <div role="tabpanel" class="tab-pane" id="AddAsset">profile
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    
					    </div>
					    <div role="tabpanel" class="tab-pane" id="AddAssetGroup">msg
					    
					    
					    </div>  
					  </div>
					</div>
					</div>
        </div> <!-- row -->

     <!-- Button trigger modal -->
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title" id="myModalLabel">Change WEB_admin</h4>
                </div>
                <div class="modal-body">
                    <form  action="/WebAdmin/ChangePWD/" method="POST" class="form-horizontal" role="form">
                        <fieldset>
                            <div class="form-group form-horizontal" >
                                <label class="col-md-4 control-label">更改后的用户名:</label>
                                <div class="col-md-5">
                                    <input name="username" autofocus type="text" placeholder="username" class="form-control"/>
                                </div>
                            </div>

                            <div class="form-group form-horizontal" >
                                <label  class="col-md-4 control-label" >更改后的密码:</label>
                                <div class="col-md-5">
                                    <input name="pwd" type="password" placeholder="password" class="form-control"/>
                                </div>
                            </div>
                            
                            <div class="form-group form-horizontal" >
                                <label class="col-md-4 control-label">设定邮箱:</label>
                                <div class="col-md-5">
                                    <input name="First_Email" id="new_email" autofocus type="text" placeholder="new_email" value="1144858429@qq.com" class="form-control"/>
                                </div>
                            </div>
     
                          <div class="form-group form-horizontal" >
                                <label  class="col-md-4 control-label" >Email_POP3_address</label>
                                <div class="col-md-5">
                                    <input name="EmailPop3Address" type="text" placeholder="Pop3Address" class="form-control"/>
                                </div>
                            </div>


                            <div class="form-group">
                                <div class="col-md-offset-4 col-md-8">
                                    <button type="submit" class="btn btn-success">提交</button>
                                </div>
                            </div>
                        </fieldset>
                    </form> <!--更改密码提交结束-->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                   <!-- <button type="button" class="btn btn-primary">Save changes</button> -->
                </div>
            </div>
        </div>
    </div>  <!-- 模态框 -- 更改密码 -->

</div>  <!-- page_main -->




<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="/static/js/jquery-1.11.1.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="/static/js/bootstrap.js"></script>



<script>
    //注销登录。
   function myfunc() {
       alert("正在推出登录");
       console.log("我们就是");
   }
   function MySearch() {
       alert("搜索功能在再完善，敬请期待。");
   }
   //修改Web管理员
    /*function ChangePWD() {
       $('#myModa1').modal();
   }*/
   //设定/修改邮箱
    function SetEmail() {
      //  $('#myModa2').modal();
        document.getElementById('new_email').
        alert("邮箱");
    }

    //ajax的范本，用于异步请求与应答
    function Reply(doc,id){
        //$(content).removeClass('hide');
        $.ajax({
            url:'/app/getreply/',
            data:{nid:id},
            type:'POST',
            success:function(callback){
                console.log(callback);
                var obj = jQuery.parseJSON(callback);
                //$(doc).parent().next().first().text('00000000')
                $(doc).parent().next().find('.replys').empty(); //清空 class=replys的
                $.each(obj,function(k,v){
                    temp = "<lable>"+v.user__username+":"+v.content+"   ---"+v.create_date+"</lable>"+"<br/>" ;
                    $(doc).parent().next().find('.replys').append(temp);
                });
            }
        });




</script>
</body>
</html>